{"version":3,"file":"vue.js","sources":["../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["// 对数据进行劫持\r\nexport function initState(vm) {\r\n  const opts = vm.$options;\r\n  if (opts.data) {\r\n    initData(vm);\r\n  }\r\n}\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data;\r\n  // data可能是函数 也可能是对象\r\n  data = vm._data = typeof data === \"function\" ? getData(data, vm) : data || {};\r\n  console.log(data)\r\n}\r\n\r\nexport function getData(data, vm) {\r\n  // 调用data函数，将this指向vm(data中可能使用this.xxxx)\r\n  return data.call(vm);\r\n}\r\n","import { initState } from './state'\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    //用于初始化操作\r\n    const vm = this;\r\n    vm.$options = options;\r\n    initState(vm);\r\n  };\r\n}\r\n","import { initMixin } from \"./init\";\r\n\r\nfunction Vue(options) {\r\n  this._init(options);\r\n}\r\n\r\ninitMixin(Vue);\r\n\r\nexport default Vue;\r\n"],"names":["initState","vm","opts","$options","data","initData","_data","getData","console","log","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;EAAA;EACO,SAASA,SAAT,CAAmBC,EAAnB,EAAuB;EAC5B,EAAA,IAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB,CAAA;;IACA,IAAID,IAAI,CAACE,IAAT,EAAe;MACbC,QAAQ,CAACJ,EAAD,CAAR,CAAA;EACD,GAAA;EACF,CAAA;;EAED,SAASI,QAAT,CAAkBJ,EAAlB,EAAsB;IACpB,IAAIG,IAAI,GAAGH,EAAE,CAACE,QAAH,CAAYC,IAAvB,CADoB;;EAGpBA,EAAAA,IAAI,GAAGH,EAAE,CAACK,KAAH,GAAW,OAAOF,IAAP,KAAgB,UAAhB,GAA6BG,OAAO,CAACH,IAAD,EAAOH,EAAP,CAApC,GAAiDG,IAAI,IAAI,EAA3E,CAAA;IACAI,OAAO,CAACC,GAAR,CAAYL,IAAZ,CAAA,CAAA;EACD,CAAA;;EAEM,SAASG,OAAT,CAAiBH,IAAjB,EAAuBH,EAAvB,EAA2B;EAChC;EACA,EAAA,OAAOG,IAAI,CAACM,IAAL,CAAUT,EAAV,CAAP,CAAA;EACD;;ECjBM,SAASU,SAAT,CAAmBC,GAAnB,EAAwB;EAC7BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACvC;MACA,IAAMd,EAAE,GAAG,IAAX,CAAA;MACAA,EAAE,CAACE,QAAH,GAAcY,OAAd,CAAA;MACAf,SAAS,CAACC,EAAD,CAAT,CAAA;KAJF,CAAA;EAMD;;ECND,SAASW,GAAT,CAAaG,OAAb,EAAsB;IACpB,IAAKD,CAAAA,KAAL,CAAWC,OAAX,CAAA,CAAA;EACD,CAAA;;EAEDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}